<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>AVR32 UC3 - FSACCESS Services: nav_flat.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>nav_flat.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
FAT 12/16/32 Services. 
<p>
This plug-in allow a navigation in FLAT mode This plug-in is connected on the navigation module. The flat mode includes in the file list all directories and all files of the current directory AND the sub directories Before use the flat mode, you must call <a class="el" href="a00036.html#aa10a2b4e4db0e4eb602b19b4f9ff9b9" title="This function mounts the selected partition.">nav_partition_mount()</a> to reset navigation<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br>
 Support and FAQ: <a href="http://support.atmel.no/">http://support.atmel.no/</a> </dd></dl>

<p>Definition in file <a class="el" href="a00066.html">nav_flat.h</a>.</p>

<p>
<code>#include &quot;<a class="el" href="a00055.html">fs_com.h</a>&quot;</code><br>

<p>
<a href="a00066.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#a84380a5bc4427872aac8826e8c5fd90">nav_flat_cd</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function enters in the selected directory in file list FLAT.  <a href="#a84380a5bc4427872aac8826e8c5fd90"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#c49ef6f007a1a3a9041d4818931f7364">nav_flat_fileisnotopen</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function checks if no file is opened.  <a href="#c49ef6f007a1a3a9041d4818931f7364"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#fb6a9111c9fd554b54d1a6656f058aa1">nav_flat_findname</a> (const <a class="el" href="a00024.html#caff53a7315dfcce82e06ae11c771e8c">FS_STRING</a> sz_name, Bool b_match_case)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function searchs a file name in file list FLAT.  <a href="#fb6a9111c9fd554b54d1a6656f058aa1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">U16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#658c03c3bbf7fdadee71ddc147c2b905">nav_flat_get</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function returns the position of selected file in file list FLAT.  <a href="#658c03c3bbf7fdadee71ddc147c2b905"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#7c4f0bf3da8e4db8364bbb2b642e7941">nav_flat_goto</a> (U16 u16_newpos)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function goes to a position in file list FLAT.  <a href="#7c4f0bf3da8e4db8364bbb2b642e7941"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#c4d62fa5819056860f1ac56eb3841955">nav_flat_gotoparent</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function goes to the parent directory.  <a href="#c4d62fa5819056860f1ac56eb3841955"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#d7bda9dc86539a637c824dddfd331dc0">nav_flat_mount</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function mounts the selected partition.  <a href="#d7bda9dc86539a637c824dddfd331dc0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">U16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#2d357bcc93fddd887a680b620f17336c">nav_flat_nb</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function computes the number of files and directories present in the file list FLAT.  <a href="#2d357bcc93fddd887a680b620f17336c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#8dc203b4ba40cd51d6260e88c8f6e596">nav_flat_next</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Go to next file or directory in file list FLAT.  <a href="#8dc203b4ba40cd51d6260e88c8f6e596"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#8c62590cf646bb68fef238f00f68231b">nav_flat_previous</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Go to previous file or directory in file list FLAT.  <a href="#8c62590cf646bb68fef238f00f68231b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#fa3dcf06e7f675004e997e69d430ac50">nav_flat_reset</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function resets the selection pointer, so "no file is selected" in file list FLAT.  <a href="#fa3dcf06e7f675004e997e69d430ac50"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#88e8a21e10630673ef4ae42c8703b653">nav_flat_root</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function initializes the falt list on the root directory.  <a href="#88e8a21e10630673ef4ae42c8703b653"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00035.html#30fdeeb7b01caadca5bc98424a63b8ad">nav_flat_validpos</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function checks if a file is selected.  <a href="#30fdeeb7b01caadca5bc98424a63b8ad"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="a84380a5bc4427872aac8826e8c5fd90"></a><!-- doxytag: member="nav_flat.h::nav_flat_cd" ref="a84380a5bc4427872aac8826e8c5fd90" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_cd           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function enters in the selected directory in file list FLAT. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00324">324</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00051.html#l00394">fs_g_nav</a>, <a class="el" href="a00067.html#l01189">nav_dir_cd()</a>, <a class="el" href="a00051.html#l00289">Fs_management::u16_flat_pos_offset</a>, and <a class="el" href="a00051.html#l00288">Fs_management::u8_flat_dir_level</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00325"></a>00325 {
<a name="l00326"></a>00326    <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#dca006b356e65cb05459f7bd7917a1ed" title="This function enters in the selected directory in file list.">nav_dir_cd</a>() )
<a name="l00327"></a>00327       <span class="keywordflow">return</span> FALSE;
<a name="l00328"></a>00328    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a>   = 0;
<a name="l00329"></a>00329    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> = 0;
<a name="l00330"></a>00330    <span class="keywordflow">return</span> TRUE;
<a name="l00331"></a>00331 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c49ef6f007a1a3a9041d4818931f7364"></a><!-- doxytag: member="nav_flat.h::nav_flat_fileisnotopen" ref="c49ef6f007a1a3a9041d4818931f7364" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_fileisnotopen           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function checks if no file is opened. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if no file is opened <p>
FALSE if a file is opened </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00124">124</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00067.html#l00703">nav_filelist_fileisnotopen()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00125"></a>00125 {
<a name="l00126"></a>00126    <span class="keywordflow">return</span> <a class="code" href="a00036.html#1d6570347e090b2473510798840a729f" title="This function checks if no file is open.">nav_filelist_fileisnotopen</a>();
<a name="l00127"></a>00127 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fb6a9111c9fd554b54d1a6656f058aa1"></a><!-- doxytag: member="nav_flat.h::nav_flat_findname" ref="fb6a9111c9fd554b54d1a6656f058aa1" args="(const FS_STRING sz_name, Bool b_match_case)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_findname           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00024.html#caff53a7315dfcce82e06ae11c771e8c">FS_STRING</a>&nbsp;</td>
          <td class="paramname"> <em>sz_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bool&nbsp;</td>
          <td class="paramname"> <em>b_match_case</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function searchs a file name in file list FLAT. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sz_name</em>&nbsp;</td><td>name to search (UNICODE or ASCII) <br>
 It must be terminated by NULL or '*' value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b_match_case</em>&nbsp;</td><td>FALSE to ignore the case</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise</dd></dl>
<div class="fragment"><pre class="fragment">
//! This function starts a search at the next position of the current in file list 
//! </pre></div> 
<p>Definition at line <a class="el" href="a00065.html#l00278">278</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00055.html#l00085">FS_NAME_CHECK</a>, <a class="el" href="a00067.html#l01769">nav_file_name()</a>, and <a class="el" href="a00065.html#l00135">nav_flat_next()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00279"></a>00279 {
<a name="l00280"></a>00280    <span class="keywordflow">while</span>( 1 )
<a name="l00281"></a>00281    {
<a name="l00282"></a>00282       <span class="keywordflow">if</span> ( !<a class="code" href="a00034.html#8dc203b4ba40cd51d6260e88c8f6e596" title="Go to next file or directory in file list FLAT.">nav_flat_next</a>() )
<a name="l00283"></a>00283          <span class="keywordflow">return</span> FALSE;
<a name="l00284"></a>00284       <span class="keywordflow">if</span> ( <a class="code" href="a00036.html#10603c2fe89bd66a17cfe3bb49a3fa14" title="This function returns the name of selected file or checks the string with the name...">nav_file_name</a>( sz_name , 0 , <a class="code" href="a00024.html#5f61af4710e43b370997c162777f08b3">FS_NAME_CHECK</a> , b_match_case ))
<a name="l00285"></a>00285          <span class="keywordflow">return</span> TRUE;
<a name="l00286"></a>00286    }
<a name="l00287"></a>00287 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="658c03c3bbf7fdadee71ddc147c2b905"></a><!-- doxytag: member="nav_flat.h::nav_flat_get" ref="658c03c3bbf7fdadee71ddc147c2b905" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">U16 nav_flat_get           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function returns the position of selected file in file list FLAT. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>position of selected file (0 is the first position) <p>
FS_NO_SEL, in case of no file selected </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00223">223</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00051.html#l00394">fs_g_nav</a>, <a class="el" href="a00067.html#l00846">nav_filelist_get()</a>, and <a class="el" href="a00051.html#l00289">Fs_management::u16_flat_pos_offset</a>.</p>

<p>Referenced by <a class="el" href="a00065.html#l00236">nav_flat_goto()</a>, and <a class="el" href="a00065.html#l00294">nav_flat_nb()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00224"></a>00224 {
<a name="l00225"></a>00225    <span class="keywordflow">return</span> (<a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> + <a class="code" href="a00036.html#6b1c198eaa70bcb1babce7ad46a865ed" title="This function returns the position of selected file in file list.">nav_filelist_get</a>());
<a name="l00226"></a>00226 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7c4f0bf3da8e4db8364bbb2b642e7941"></a><!-- doxytag: member="nav_flat.h::nav_flat_goto" ref="7c4f0bf3da8e4db8364bbb2b642e7941" args="(U16 u16_newpos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_goto           </td>
          <td>(</td>
          <td class="paramtype">U16&nbsp;</td>
          <td class="paramname"> <em>u16_newpos</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function goes to a position in file list FLAT. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>u16_newpos</em>&nbsp;</td><td>new position to select (0 is the first position)</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00236">236</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00065.html#l00223">nav_flat_get()</a>, <a class="el" href="a00065.html#l00135">nav_flat_next()</a>, <a class="el" href="a00065.html#l00177">nav_flat_previous()</a>, <a class="el" href="a00065.html#l00096">nav_flat_reset()</a>, and <a class="el" href="a00065.html#l00113">nav_flat_validpos()</a>.</p>

<p>Referenced by <a class="el" href="a00065.html#l00294">nav_flat_nb()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00237"></a>00237 {
<a name="l00238"></a>00238    <span class="keywordflow">if</span> (u16_newpos &lt; (<a class="code" href="a00034.html#658c03c3bbf7fdadee71ddc147c2b905" title="This function returns the position of selected file in file list FLAT.">nav_flat_get</a>()/2))
<a name="l00239"></a>00239    {
<a name="l00240"></a>00240       <span class="comment">// Restart at the beginning of list to accelerate the search</span>
<a name="l00241"></a>00241       <span class="keywordflow">if</span> (!<a class="code" href="a00034.html#fa3dcf06e7f675004e997e69d430ac50" title="This function resets the selection pointer, so &amp;quot;no file is selected&amp;quot; in...">nav_flat_reset</a>())
<a name="l00242"></a>00242          <span class="keywordflow">return</span> FALSE;      
<a name="l00243"></a>00243    }
<a name="l00244"></a>00244    <span class="keywordflow">if</span> (!<a class="code" href="a00034.html#30fdeeb7b01caadca5bc98424a63b8ad" title="This function checks if a file is selected.">nav_flat_validpos</a>())
<a name="l00245"></a>00245    {
<a name="l00246"></a>00246       <span class="comment">// Go to first position</span>
<a name="l00247"></a>00247       <span class="keywordflow">if</span> (!<a class="code" href="a00034.html#8dc203b4ba40cd51d6260e88c8f6e596" title="Go to next file or directory in file list FLAT.">nav_flat_next</a>())
<a name="l00248"></a>00248          <span class="keywordflow">return</span> FALSE;  <span class="comment">// Empty list</span>
<a name="l00249"></a>00249    }
<a name="l00250"></a>00250    
<a name="l00251"></a>00251    <span class="keywordflow">while</span>(u16_newpos &lt; <a class="code" href="a00034.html#658c03c3bbf7fdadee71ddc147c2b905" title="This function returns the position of selected file in file list FLAT.">nav_flat_get</a>())
<a name="l00252"></a>00252    {
<a name="l00253"></a>00253       <span class="keywordflow">if</span>( !<a class="code" href="a00034.html#8c62590cf646bb68fef238f00f68231b" title="Go to previous file or directory in file list FLAT.">nav_flat_previous</a>())
<a name="l00254"></a>00254          <span class="keywordflow">return</span> FALSE; <span class="comment">// Position error</span>
<a name="l00255"></a>00255    }
<a name="l00256"></a>00256    <span class="keywordflow">while</span>(u16_newpos &gt; <a class="code" href="a00034.html#658c03c3bbf7fdadee71ddc147c2b905" title="This function returns the position of selected file in file list FLAT.">nav_flat_get</a>())
<a name="l00257"></a>00257    {
<a name="l00258"></a>00258       <span class="keywordflow">if</span>( !<a class="code" href="a00034.html#8dc203b4ba40cd51d6260e88c8f6e596" title="Go to next file or directory in file list FLAT.">nav_flat_next</a>())
<a name="l00259"></a>00259          <span class="keywordflow">return</span> FALSE; <span class="comment">// End of the list, then the position is bad</span>
<a name="l00260"></a>00260    }
<a name="l00261"></a>00261    <span class="keywordflow">return</span> TRUE;
<a name="l00262"></a>00262 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c4d62fa5819056860f1ac56eb3841955"></a><!-- doxytag: member="nav_flat.h::nav_flat_gotoparent" ref="c4d62fa5819056860f1ac56eb3841955" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_gotoparent           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function goes to the parent directory. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise</dd></dl>
<div class="fragment"><pre class="fragment">
//! After the selected file is the first entry of the new file list FLAT
//! </pre></div> 
<p>Definition at line <a class="el" href="a00065.html#l00343">343</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00051.html#l00394">fs_g_nav</a>, <a class="el" href="a00067.html#l01219">nav_dir_gotoparent()</a>, <a class="el" href="a00067.html#l00676">nav_filelist_reset()</a>, <a class="el" href="a00065.html#l00135">nav_flat_next()</a>, <a class="el" href="a00067.html#l01093">nav_getindex()</a>, <a class="el" href="a00067.html#l01120">nav_gotoindex()</a>, <a class="el" href="a00051.html#l00289">Fs_management::u16_flat_pos_offset</a>, and <a class="el" href="a00051.html#l00288">Fs_management::u8_flat_dir_level</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00344"></a>00344 {
<a name="l00345"></a>00345    _MEM_TYPE_SLOW_ <a class="code" href="a00003.html">Fs_index</a> index;
<a name="l00346"></a>00346    index = <a class="code" href="a00036.html#47882923fca657fb23001d23b6b5369d" title="This function returns a small index on the selected file.">nav_getindex</a>();
<a name="l00347"></a>00347    <span class="keywordflow">while</span>( 0 != <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a> ) 
<a name="l00348"></a>00348    {
<a name="l00349"></a>00349       <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a>--;
<a name="l00350"></a>00350       <a class="code" href="a00036.html#b37aa8fc84aca800a020da78724d729e" title="This function goes to the parent directory.">nav_dir_gotoparent</a>();
<a name="l00351"></a>00351    }
<a name="l00352"></a>00352    <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#b37aa8fc84aca800a020da78724d729e" title="This function goes to the parent directory.">nav_dir_gotoparent</a>() )
<a name="l00353"></a>00353    {
<a name="l00354"></a>00354       <a class="code" href="a00036.html#503f8d42be2b70cb554589ac7974ed78" title="This function selects a file in the navigator via a file index.">nav_gotoindex</a>( &amp;index );
<a name="l00355"></a>00355       <span class="keywordflow">return</span> FALSE;
<a name="l00356"></a>00356    }
<a name="l00357"></a>00357    <span class="comment">// Go to at the beginning of FLAT list</span>
<a name="l00358"></a>00358    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a>   = 0;
<a name="l00359"></a>00359    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> = 0;
<a name="l00360"></a>00360    <a class="code" href="a00036.html#7ad0aa092d133a156651abe5d871b8eb" title="This function resets the selection pointer, so &amp;quot;no file selected&amp;quot; in file...">nav_filelist_reset</a>();
<a name="l00361"></a>00361    <a class="code" href="a00034.html#8dc203b4ba40cd51d6260e88c8f6e596" title="Go to next file or directory in file list FLAT.">nav_flat_next</a>();
<a name="l00362"></a>00362    <span class="keywordflow">return</span> TRUE;
<a name="l00363"></a>00363 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="d7bda9dc86539a637c824dddfd331dc0"></a><!-- doxytag: member="nav_flat.h::nav_flat_mount" ref="d7bda9dc86539a637c824dddfd331dc0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_mount           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function mounts the selected partition. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise</dd></dl>
<div class="fragment"><pre class="fragment">
//! If the FS_MULTI_PARTITION option is disabled
//! then the mount routine selects the first partition supported by file system. &lt;br&gt;
//! After mount, the file list contains files and directories of ROOT directory 
//! </pre></div> 
<p>Definition at line <a class="el" href="a00065.html#l00071">71</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00051.html#l00394">fs_g_nav</a>, <a class="el" href="a00067.html#l00461">nav_partition_mount()</a>, <a class="el" href="a00051.html#l00289">Fs_management::u16_flat_pos_offset</a>, and <a class="el" href="a00051.html#l00288">Fs_management::u8_flat_dir_level</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00072"></a>00072 {
<a name="l00073"></a>00073    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a> = 0;
<a name="l00074"></a>00074    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> = 0;   
<a name="l00075"></a>00075    <span class="keywordflow">return</span> <a class="code" href="a00036.html#aa10a2b4e4db0e4eb602b19b4f9ff9b9" title="This function mounts the selected partition.">nav_partition_mount</a>();
<a name="l00076"></a>00076 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2d357bcc93fddd887a680b620f17336c"></a><!-- doxytag: member="nav_flat.h::nav_flat_nb" ref="2d357bcc93fddd887a680b620f17336c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">U16 nav_flat_nb           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function computes the number of files and directories present in the file list FLAT. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>number of files and directories present in the file list FLAT </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00294">294</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00065.html#l00223">nav_flat_get()</a>, <a class="el" href="a00065.html#l00236">nav_flat_goto()</a>, <a class="el" href="a00065.html#l00135">nav_flat_next()</a>, and <a class="el" href="a00065.html#l00096">nav_flat_reset()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00295"></a>00295 {
<a name="l00296"></a>00296    U16   u16_save_position;
<a name="l00297"></a>00297    U16   u16_number;
<a name="l00298"></a>00298    
<a name="l00299"></a>00299    <span class="comment">// Save current position</span>
<a name="l00300"></a>00300    u16_save_position = <a class="code" href="a00034.html#658c03c3bbf7fdadee71ddc147c2b905" title="This function returns the position of selected file in file list FLAT.">nav_flat_get</a>();
<a name="l00301"></a>00301 
<a name="l00302"></a>00302    <span class="comment">// Reset position</span>
<a name="l00303"></a>00303    <span class="keywordflow">if</span> ( !<a class="code" href="a00034.html#fa3dcf06e7f675004e997e69d430ac50" title="This function resets the selection pointer, so &amp;quot;no file is selected&amp;quot; in...">nav_flat_reset</a>())
<a name="l00304"></a>00304       <span class="keywordflow">return</span> 0;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306    <span class="comment">// Scan all directories</span>
<a name="l00307"></a>00307    u16_number  = 0;
<a name="l00308"></a>00308    <span class="keywordflow">while</span>( <a class="code" href="a00034.html#8dc203b4ba40cd51d6260e88c8f6e596" title="Go to next file or directory in file list FLAT.">nav_flat_next</a>() )
<a name="l00309"></a>00309    {
<a name="l00310"></a>00310       u16_number++;
<a name="l00311"></a>00311    }
<a name="l00312"></a>00312    <span class="comment">// Restore previous position</span>
<a name="l00313"></a>00313    <a class="code" href="a00034.html#7c4f0bf3da8e4db8364bbb2b642e7941" title="This function goes to a position in file list FLAT.">nav_flat_goto</a>( u16_save_position );
<a name="l00314"></a>00314 
<a name="l00315"></a>00315    <span class="keywordflow">return</span> u16_number;
<a name="l00316"></a>00316 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8dc203b4ba40cd51d6260e88c8f6e596"></a><!-- doxytag: member="nav_flat.h::nav_flat_next" ref="8dc203b4ba40cd51d6260e88c8f6e596" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_next           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Go to next file or directory in file list FLAT. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00135">135</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00068.html#l00051">FS_FIND_NEXT</a>, <a class="el" href="a00051.html#l00394">fs_g_nav</a>, <a class="el" href="a00067.html#l01189">nav_dir_cd()</a>, <a class="el" href="a00067.html#l01219">nav_dir_gotoparent()</a>, <a class="el" href="a00067.html#l01892">nav_file_isdir()</a>, <a class="el" href="a00067.html#l00846">nav_filelist_get()</a>, <a class="el" href="a00067.html#l00726">nav_filelist_set()</a>, <a class="el" href="a00051.html#l00289">Fs_management::u16_flat_pos_offset</a>, and <a class="el" href="a00051.html#l00288">Fs_management::u8_flat_dir_level</a>.</p>

<p>Referenced by <a class="el" href="a00065.html#l00278">nav_flat_findname()</a>, <a class="el" href="a00065.html#l00236">nav_flat_goto()</a>, <a class="el" href="a00065.html#l00343">nav_flat_gotoparent()</a>, and <a class="el" href="a00065.html#l00294">nav_flat_nb()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {
<a name="l00137"></a>00137    U16 u16_save_current_pos;
<a name="l00138"></a>00138    
<a name="l00139"></a>00139    u16_save_current_pos = <a class="code" href="a00036.html#6b1c198eaa70bcb1babce7ad46a865ed" title="This function returns the position of selected file in file list.">nav_filelist_get</a>();
<a name="l00140"></a>00140    <span class="keywordflow">if</span>( <a class="code" href="a00036.html#0e9d8d4d0a438b0803c57c775e6c3b9c" title="This function returns the type of selected file.">nav_file_isdir</a>() ) 
<a name="l00141"></a>00141    {
<a name="l00142"></a>00142       <span class="comment">// The current file is a dir then enter in this</span>
<a name="l00143"></a>00143       <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#dca006b356e65cb05459f7bd7917a1ed" title="This function enters in the selected directory in file list.">nav_dir_cd</a>() )
<a name="l00144"></a>00144          <span class="keywordflow">return</span> FALSE;
<a name="l00145"></a>00145       <span class="keywordflow">if</span>( <a class="code" href="a00036.html#066eaff61613f07dc5fb1f3313747aef" title="This function moves the selection pointer in file list.">nav_filelist_set</a>( 0 , <a class="code" href="a00037.html#793c4ce9436637d68ab25dc859abc35a" title="move in list to next file">FS_FIND_NEXT</a> ) )
<a name="l00146"></a>00146       {
<a name="l00147"></a>00147          <span class="comment">// A file is present in this dir then valid the new position</span>
<a name="l00148"></a>00148          <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a>++;
<a name="l00149"></a>00149          <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> += u16_save_current_pos+1;
<a name="l00150"></a>00150          <span class="keywordflow">return</span> TRUE;
<a name="l00151"></a>00151       }<span class="keywordflow">else</span>{
<a name="l00152"></a>00152          <span class="comment">// No file then return in parent dir</span>
<a name="l00153"></a>00153          <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#b37aa8fc84aca800a020da78724d729e" title="This function goes to the parent directory.">nav_dir_gotoparent</a>() )
<a name="l00154"></a>00154             <span class="keywordflow">return</span> FALSE;  <span class="comment">// Error</span>
<a name="l00155"></a>00155       }
<a name="l00156"></a>00156    }
<a name="l00157"></a>00157    <span class="comment">// Find next file in the current dir or the parent dir</span>
<a name="l00158"></a>00158    <span class="keywordflow">while</span>( !<a class="code" href="a00036.html#066eaff61613f07dc5fb1f3313747aef" title="This function moves the selection pointer in file list.">nav_filelist_set</a>( 0 , <a class="code" href="a00037.html#793c4ce9436637d68ab25dc859abc35a" title="move in list to next file">FS_FIND_NEXT</a> ) )
<a name="l00159"></a>00159    {
<a name="l00160"></a>00160       <span class="comment">// End of the directory then goes to parent</span>
<a name="l00161"></a>00161       <span class="keywordflow">if</span>( 0 == <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a> )
<a name="l00162"></a>00162          <span class="keywordflow">return</span> FALSE;  <span class="comment">// End of list FLAT</span>
<a name="l00163"></a>00163       <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#b37aa8fc84aca800a020da78724d729e" title="This function goes to the parent directory.">nav_dir_gotoparent</a>() )
<a name="l00164"></a>00164          <span class="keywordflow">return</span> FALSE;  <span class="comment">// Error</span>
<a name="l00165"></a>00165       <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a>--;
<a name="l00166"></a>00166    }
<a name="l00167"></a>00167    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> = (<a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> +u16_save_current_pos +1) -<a class="code" href="a00036.html#6b1c198eaa70bcb1babce7ad46a865ed" title="This function returns the position of selected file in file list.">nav_filelist_get</a>();
<a name="l00168"></a>00168    <span class="keywordflow">return</span> TRUE;
<a name="l00169"></a>00169 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="8c62590cf646bb68fef238f00f68231b"></a><!-- doxytag: member="nav_flat.h::nav_flat_previous" ref="8c62590cf646bb68fef238f00f68231b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_previous           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Go to previous file or directory in file list FLAT. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00177">177</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00068.html#l00051">FS_FIND_NEXT</a>, <a class="el" href="a00068.html#l00052">FS_FIND_PREV</a>, <a class="el" href="a00051.html#l00394">fs_g_nav</a>, <a class="el" href="a00067.html#l01189">nav_dir_cd()</a>, <a class="el" href="a00067.html#l01219">nav_dir_gotoparent()</a>, <a class="el" href="a00067.html#l01892">nav_file_isdir()</a>, <a class="el" href="a00067.html#l00846">nav_filelist_get()</a>, <a class="el" href="a00067.html#l00726">nav_filelist_set()</a>, <a class="el" href="a00051.html#l00289">Fs_management::u16_flat_pos_offset</a>, and <a class="el" href="a00051.html#l00288">Fs_management::u8_flat_dir_level</a>.</p>

<p>Referenced by <a class="el" href="a00065.html#l00236">nav_flat_goto()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00178"></a>00178 {
<a name="l00179"></a>00179    U16 u16_save_current_pos;
<a name="l00180"></a>00180    
<a name="l00181"></a>00181    u16_save_current_pos = <a class="code" href="a00036.html#6b1c198eaa70bcb1babce7ad46a865ed" title="This function returns the position of selected file in file list.">nav_filelist_get</a>();
<a name="l00182"></a>00182    <span class="keywordflow">if</span>( <a class="code" href="a00036.html#066eaff61613f07dc5fb1f3313747aef" title="This function moves the selection pointer in file list.">nav_filelist_set</a>( 0 , <a class="code" href="a00037.html#bc7fd11102a5b83b18fefaba9e846c10" title="move in list to previous file">FS_FIND_PREV</a> ) )
<a name="l00183"></a>00183    {
<a name="l00184"></a>00184       <span class="keywordflow">while</span>( 1 )
<a name="l00185"></a>00185       {
<a name="l00186"></a>00186          <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#0e9d8d4d0a438b0803c57c775e6c3b9c" title="This function returns the type of selected file.">nav_file_isdir</a>() ) 
<a name="l00187"></a>00187          {
<a name="l00188"></a>00188             <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> = ((<a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> +u16_save_current_pos) -<a class="code" href="a00036.html#6b1c198eaa70bcb1babce7ad46a865ed" title="This function returns the position of selected file in file list.">nav_filelist_get</a>()) -1;
<a name="l00189"></a>00189             <span class="keywordflow">return</span> TRUE;   <span class="comment">// New valid position</span>
<a name="l00190"></a>00190          }
<a name="l00191"></a>00191          <span class="comment">// The selection is a dir then enter in this</span>
<a name="l00192"></a>00192          <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#dca006b356e65cb05459f7bd7917a1ed" title="This function enters in the selected directory in file list.">nav_dir_cd</a>() )
<a name="l00193"></a>00193             <span class="keywordflow">return</span> FALSE;
<a name="l00194"></a>00194          <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#066eaff61613f07dc5fb1f3313747aef" title="This function moves the selection pointer in file list.">nav_filelist_set</a>( 0 , <a class="code" href="a00037.html#793c4ce9436637d68ab25dc859abc35a" title="move in list to next file">FS_FIND_NEXT</a> ) )
<a name="l00195"></a>00195          {
<a name="l00196"></a>00196             <span class="comment">// The dir is empty then goes to the parent</span>
<a name="l00197"></a>00197             <a class="code" href="a00036.html#b37aa8fc84aca800a020da78724d729e" title="This function goes to the parent directory.">nav_dir_gotoparent</a>();
<a name="l00198"></a>00198             <span class="comment">// The parent dir is the new selection</span>
<a name="l00199"></a>00199             <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> = ((<a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> +u16_save_current_pos) -<a class="code" href="a00036.html#6b1c198eaa70bcb1babce7ad46a865ed" title="This function returns the position of selected file in file list.">nav_filelist_get</a>()) -1;
<a name="l00200"></a>00200             <span class="keywordflow">return</span> TRUE;
<a name="l00201"></a>00201          }
<a name="l00202"></a>00202          <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a>++;
<a name="l00203"></a>00203          <span class="comment">// Go to the end of dir </span>
<a name="l00204"></a>00204          <span class="keywordflow">while</span>( <a class="code" href="a00036.html#066eaff61613f07dc5fb1f3313747aef" title="This function moves the selection pointer in file list.">nav_filelist_set</a>( 0 , <a class="code" href="a00037.html#793c4ce9436637d68ab25dc859abc35a" title="move in list to next file">FS_FIND_NEXT</a> ) );
<a name="l00205"></a>00205       }
<a name="l00206"></a>00206    }
<a name="l00207"></a>00207    <span class="comment">// Beginning of the directory then goes to parent directory</span>
<a name="l00208"></a>00208    <span class="keywordflow">if</span>( 0 == <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a> )
<a name="l00209"></a>00209       <span class="keywordflow">return</span> FALSE;  <span class="comment">// beginning of the file list FLAT</span>
<a name="l00210"></a>00210    <span class="keywordflow">if</span>( !<a class="code" href="a00036.html#b37aa8fc84aca800a020da78724d729e" title="This function goes to the parent directory.">nav_dir_gotoparent</a>() )
<a name="l00211"></a>00211       <span class="keywordflow">return</span> FALSE;
<a name="l00212"></a>00212    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a>--;
<a name="l00213"></a>00213    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> -= (<a class="code" href="a00036.html#6b1c198eaa70bcb1babce7ad46a865ed" title="This function returns the position of selected file in file list.">nav_filelist_get</a>()+1);
<a name="l00214"></a>00214    <span class="keywordflow">return</span> TRUE;
<a name="l00215"></a>00215 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="fa3dcf06e7f675004e997e69d430ac50"></a><!-- doxytag: member="nav_flat.h::nav_flat_reset" ref="fa3dcf06e7f675004e997e69d430ac50" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_reset           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function resets the selection pointer, so "no file is selected" in file list FLAT. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00096">96</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00051.html#l00394">fs_g_nav</a>, <a class="el" href="a00067.html#l01219">nav_dir_gotoparent()</a>, <a class="el" href="a00067.html#l00676">nav_filelist_reset()</a>, <a class="el" href="a00051.html#l00289">Fs_management::u16_flat_pos_offset</a>, and <a class="el" href="a00051.html#l00288">Fs_management::u8_flat_dir_level</a>.</p>

<p>Referenced by <a class="el" href="a00065.html#l00236">nav_flat_goto()</a>, and <a class="el" href="a00065.html#l00294">nav_flat_nb()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00097"></a>00097 {
<a name="l00098"></a>00098    <span class="keywordflow">while</span>( 0 != <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a> ) 
<a name="l00099"></a>00099    {
<a name="l00100"></a>00100       <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a>--;
<a name="l00101"></a>00101       <a class="code" href="a00036.html#b37aa8fc84aca800a020da78724d729e" title="This function goes to the parent directory.">nav_dir_gotoparent</a>();
<a name="l00102"></a>00102    }
<a name="l00103"></a>00103    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> = 0;
<a name="l00104"></a>00104    <span class="keywordflow">return</span> <a class="code" href="a00036.html#7ad0aa092d133a156651abe5d871b8eb" title="This function resets the selection pointer, so &amp;quot;no file selected&amp;quot; in file...">nav_filelist_reset</a>();
<a name="l00105"></a>00105 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="88e8a21e10630673ef4ae42c8703b653"></a><!-- doxytag: member="nav_flat.h::nav_flat_root" ref="88e8a21e10630673ef4ae42c8703b653" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_root           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function initializes the falt list on the root directory. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise</dd></dl>
This function initializes the falt list on the root directory.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>FALSE in case of error, see global value "fs_g_status" for more detail <p>
TRUE otherwise </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00084">84</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00051.html#l00394">fs_g_nav</a>, <a class="el" href="a00067.html#l01159">nav_dir_root()</a>, <a class="el" href="a00051.html#l00289">Fs_management::u16_flat_pos_offset</a>, and <a class="el" href="a00051.html#l00288">Fs_management::u8_flat_dir_level</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00085"></a>00085 {
<a name="l00086"></a>00086    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#71be6e59216e180035e6678d795dba9b" title="Directory level of the current dir in flat list.">u8_flat_dir_level</a> = 0;
<a name="l00087"></a>00087    <a class="code" href="a00020.html#5c5e563664aa146853ff976ce0b412ec">fs_g_nav</a>.<a class="code" href="a00004.html#2f91930f96ea5b644c7c916236622ed5" title="Offset in flat list of the directory.">u16_flat_pos_offset</a> = 0;   
<a name="l00088"></a>00088    <span class="keywordflow">return</span> <a class="code" href="a00036.html#9447385c9c400b07b99c61ada1a6ea77" title="This function initializes the file list on the root directory.">nav_dir_root</a>();
<a name="l00089"></a>00089 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="30fdeeb7b01caadca5bc98424a63b8ad"></a><!-- doxytag: member="nav_flat.h::nav_flat_validpos" ref="30fdeeb7b01caadca5bc98424a63b8ad" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool nav_flat_validpos           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function checks if a file is selected. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if a file is selected <p>
FALSE if no file is selected </dd></dl>

<p>Definition at line <a class="el" href="a00065.html#l00113">113</a> of file <a class="el" href="a00065.html">nav_flat.c</a>.</p>

<p>References <a class="el" href="a00067.html#l00692">nav_filelist_validpos()</a>.</p>

<p>Referenced by <a class="el" href="a00065.html#l00236">nav_flat_goto()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00114"></a>00114 {
<a name="l00115"></a>00115    <span class="keywordflow">return</span> <a class="code" href="a00036.html#dd6435ba1a2f0a8ddc072883c05a1a64" title="This function checks if a file is selected.">nav_filelist_validpos</a>();
<a name="l00116"></a>00116 }
</pre></div>
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Dec 21 18:30:59 2009 for AVR32 UC3 - FSACCESS Services by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
